#!/bin/sh

echo "ğŸ” Running pre-commit checks..."

# âŒ Block .env file (even if ignored)
if [ -f .env ]; then
  echo "âŒ .env file detected! Commit blocked."
  exit 1
fi

# âŒ Block log files
if git status --porcelain | grep "logs/"; then
  echo "âŒ Log files detected! Commit blocked."
  exit 1
fi

# âœ” Check JS formatting ONLY for Day-5 (POSIX safe)
FILES=$(find Week-1/Day-5 -type f -name "*.js")

if [ -n "$FILES" ]; then
  npx prettier --check $FILES
  if [ $? -ne 0 ]; then
    echo "âŒ JS formatting issues found in Day-5!"
    exit 1
  fi
else
  echo "â„¹ï¸ No JS files found in Day-5, skipping Prettier"
fi

